@model Web.Models.EditTestModel
@{
	ViewBag.Title = "Edit Test";

}

<h2>Edit Test</h2>
@using (Html.BeginForm())
{
	@Html.AntiForgeryToken()
	<div>
		@Html.LabelFor(model => model.test.Name)
		@Html.EditorFor(model => model.test.Name)
		@Html.ValidationMessageFor(model => model.test.Name)
	</div>

	<div>
		@Html.LabelFor(model => model.test.Date)
		@Html.EditorFor(model => model.test.Date)
		@Html.ValidationMessageFor(model => model.test.Date)
	</div>

	<div>
		@Html.LabelFor(model => model.test.CompletionTime)
		@Html.EditorFor(model => model.test.CompletionTime)
		@Html.ValidationMessageFor(model => model.test.CompletionTime)
	</div>

	<div>
		@Html.LabelFor(model => model.test.NumOfQuestions)
		@Html.EditorFor(model => model.test.NumOfQuestions)
		@Html.ValidationMessageFor(model => model.test.NumOfQuestions)
	</div>


	<h2>Add Thematic Area</h2>
	<div>
		


		@Html.LabelFor(model => model.area.Name)
		@Html.EditorFor(model => model.area.Name)
		@Html.ValidationMessageFor(model => model.area.Name)
		<input type="submit" class="btn btn-primary" name="addArea" value="Add"/>

	</div>
	<h2>Add Student Group</h2>
	<div>
	
		@Html.LabelFor(model => model.group.Name)
		@Html.EditorFor(model => model.group.Name)
		@Html.ValidationMessageFor(model => model.group.Name)


		@Html.LabelFor(model => model.group.RegId)
		@Html.EditorFor(model => model.group.RegId)
		@Html.ValidationMessageFor(model => model.group.RegId)
		<input type="submit" class="btn btn-primary" name="addGroup" value="Add" />

	</div>

	<h3>Thematic Areas</h3>
	<table class="table">
		<tr>
			<th>
				Name
			</th>

		</tr>

		@foreach (var item in Model.test.ThematicAreas)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Name)
				</td>
				<td>
					<button type="button" class="btn btn-danger">
						@Html.ActionLink("Delete", "RemoveTheme", new {themeId = item.Id, testId = Model.test.Id})
					</button>
				</td>
			</tr>
		}

	</table>

	<h3>Student Groups</h3>
	<table class="table">
		<tr>
			<th>
				Name
			</th>

		</tr>

		@foreach (var item in Model.test.StudentGroups)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Name)
				</td>
				<td>
					<button type="button" class="btn btn-danger" >
						@Html.ActionLink("Remove Student Group", "RemoveStudentGroup", new { studgrpid = item.Id, testid = Model.test.Id })
					</button>
				</td>
			</tr>
		}

	</table>



	<input type="submit" class="btn btn-primary" name="save" value="Save"/>
	<button type="button" class="btn btn-default">
		@Html.ActionLink("Back", "Index", "Test")
	</button>
}
